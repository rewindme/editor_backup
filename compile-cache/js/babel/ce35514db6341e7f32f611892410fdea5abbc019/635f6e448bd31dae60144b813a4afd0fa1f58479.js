

"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

var _interopRequireWildcard = require("babel-runtime/helpers/interop-require-wildcard")["default"];

exports.__esModule = true;
exports.UnaryExpression = UnaryExpression;
exports.DoExpression = DoExpression;
exports.ParenthesizedExpression = ParenthesizedExpression;
exports.UpdateExpression = UpdateExpression;
exports.ConditionalExpression = ConditionalExpression;
exports.NewExpression = NewExpression;
exports.SequenceExpression = SequenceExpression;
exports.ThisExpression = ThisExpression;
exports.Super = Super;
exports.Decorator = Decorator;
exports.CallExpression = CallExpression;
exports.EmptyStatement = EmptyStatement;
exports.ExpressionStatement = ExpressionStatement;
exports.AssignmentPattern = AssignmentPattern;
exports.AssignmentExpression = AssignmentExpression;
exports.BindExpression = BindExpression;
exports.MemberExpression = MemberExpression;
exports.MetaProperty = MetaProperty;

var _isInteger = require("is-integer");

var _isInteger2 = _interopRequireDefault(_isInteger);

var _lodashLangIsNumber = require("lodash/lang/isNumber");

var _lodashLangIsNumber2 = _interopRequireDefault(_lodashLangIsNumber);

var _babelTypes = require("babel-types");

var t = _interopRequireWildcard(_babelTypes);

var _node = require("../node");

var _node2 = _interopRequireDefault(_node);

var SCIENTIFIC_NOTATION = /e/i;
var ZERO_DECIMAL_INTEGER = /\.0+$/;

function UnaryExpression(node /*: Object*/) {
  var needsSpace = /[a-z]$/.test(node.operator);
  var arg = node.argument;

  if (t.isUpdateExpression(arg) || t.isUnaryExpression(arg)) {
    needsSpace = true;
  }

  if (t.isUnaryExpression(arg) && arg.operator === "!") {
    needsSpace = false;
  }

  this.push(node.operator);
  if (needsSpace) this.push(" ");
  this.print(node.argument, node);
}

function DoExpression(node /*: Object*/) {
  this.push("do");
  this.space();
  this.print(node.body, node);
}

function ParenthesizedExpression(node /*: Object*/) {
  this.push("(");
  this.print(node.expression, node);
  this.push(")");
}

function UpdateExpression(node /*: Object*/) {
  if (node.prefix) {
    this.push(node.operator);
    this.print(node.argument, node);
  } else {
    this.print(node.argument, node);
    this.push(node.operator);
  }
}

function ConditionalExpression(node /*: Object*/) {
  this.print(node.test, node);
  this.space();
  this.push("?");
  this.space();
  this.print(node.consequent, node);
  this.space();
  this.push(":");
  this.space();
  this.print(node.alternate, node);
}

function NewExpression(node /*: Object*/) {
  this.push("new ");
  this.print(node.callee, node);
  this.push("(");
  this.printList(node.arguments, node);
  this.push(")");
}

function SequenceExpression(node /*: Object*/) {
  this.printList(node.expressions, node);
}

function ThisExpression() {
  this.push("this");
}

function Super() {
  this.push("super");
}

function Decorator(node /*: Object*/) {
  this.push("@");
  this.print(node.expression, node);
  this.newline();
}

function CallExpression(node /*: Object*/) {
  this.print(node.callee, node);

  this.push("(");

  var isPrettyCall = node._prettyCall && !this.format.retainLines && !this.format.compact;

  var separator = undefined;
  if (isPrettyCall) {
    separator = ",\n";
    this.newline();
    this.indent();
  }

  this.printList(node.arguments, node, { separator: separator });

  if (isPrettyCall) {
    this.newline();
    this.dedent();
  }

  this.push(")");
}

function buildYieldAwait(keyword /*: string*/) {
  return function (node /*: Object*/) {
    this.push(keyword);

    if (node.delegate || node.all) {
      this.push("*");
    }

    if (node.argument) {
      this.push(" ");
      var terminatorState = this.startTerminatorless();
      this.print(node.argument, node);
      this.endTerminatorless(terminatorState);
    }
  };
}

var YieldExpression = buildYieldAwait("yield");
exports.YieldExpression = YieldExpression;
var AwaitExpression = buildYieldAwait("await");

exports.AwaitExpression = AwaitExpression;

function EmptyStatement() {
  this.semicolon();
}

function ExpressionStatement(node /*: Object*/) {
  this.print(node.expression, node);
  this.semicolon();
}

function AssignmentPattern(node /*: Object*/) {
  this.print(node.left, node);
  this.push(" = ");
  this.print(node.right, node);
}

function AssignmentExpression(node, /*: Object*/parent /*: Object*/) {
  // Somewhere inside a for statement `init` node but doesn't usually
  // needs a paren except for `in` expressions: `for (a in b ? a : b;;)`
  var parens = this._inForStatementInit && node.operator === "in" && !_node2["default"].needsParens(node, parent);

  if (parens) {
    this.push("(");
  }

  this.print(node.left, node);

  var spaces = !this.format.compact || node.operator === "in" || node.operator === "instanceof";
  spaces = true; // todo: https://github.com/babel/babel/issues/1835
  if (spaces) this.push(" ");

  this.push(node.operator);

  if (!spaces) {
    // space is mandatory to avoid outputting <!--
    // http://javascript.spec.whatwg.org/#comment-syntax
    spaces = node.operator === "<" && t.isUnaryExpression(node.right, { prefix: true, operator: "!" }) && t.isUnaryExpression(node.right.argument, { prefix: true, operator: "--" });
  }

  if (spaces) this.push(" ");

  this.print(node.right, node);

  if (parens) {
    this.push(")");
  }
}

function BindExpression(node /*: Object*/) {
  this.print(node.object, node);
  this.push("::");
  this.print(node.callee, node);
}

exports.BinaryExpression = AssignmentExpression;
exports.LogicalExpression = AssignmentExpression;

function MemberExpression(node /*: Object*/) {
  this.print(node.object, node);

  if (!node.computed && t.isMemberExpression(node.property)) {
    throw new TypeError("Got a MemberExpression for MemberExpression property");
  }

  var computed = node.computed;
  if (t.isLiteral(node.property) && _lodashLangIsNumber2["default"](node.property.value)) {
    computed = true;
  }

  if (computed) {
    this.push("[");
    this.print(node.property, node);
    this.push("]");
  } else {
    if (t.isLiteral(node.object) && !t.isTemplateLiteral(node.object)) {
      var val = this.getPossibleRaw(node.object) || this._stringLiteral(node.object);
      if (_isInteger2["default"](+val) && !SCIENTIFIC_NOTATION.test(val) && !ZERO_DECIMAL_INTEGER.test(val) && !this.endsWith(".")) {
        this.push(".");
      }
    }

    this.push(".");
    this.print(node.property, node);
  }
}

function MetaProperty(node /*: Object*/) {
  this.print(node.meta, node);
  this.push(".");
  this.print(node.property, node);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYXZlci8uYXRvbS9wYWNrYWdlcy9idWlsZC1ndWxwL3NwZWMvZml4dHVyZS9ub2RlX21vZHVsZXNfYmFiZWwvYmFiZWwtZ2VuZXJhdG9yL2xpYi9nZW5lcmF0b3JzL2V4cHJlc3Npb25zLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsWUFBWSxDQUFDOztBQUViLElBQUksc0JBQXNCLEdBQUcsT0FBTyxDQUFDLCtDQUErQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRWpHLElBQUksdUJBQXVCLEdBQUcsT0FBTyxDQUFDLGdEQUFnRCxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRW5HLE9BQU8sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQzFCLE9BQU8sQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO0FBQzFDLE9BQU8sQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBQ3BDLE9BQU8sQ0FBQyx1QkFBdUIsR0FBRyx1QkFBdUIsQ0FBQztBQUMxRCxPQUFPLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxDQUFDLHFCQUFxQixHQUFHLHFCQUFxQixDQUFDO0FBQ3RELE9BQU8sQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDO0FBQ3RDLE9BQU8sQ0FBQyxrQkFBa0IsR0FBRyxrQkFBa0IsQ0FBQztBQUNoRCxPQUFPLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztBQUN4QyxPQUFPLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUN0QixPQUFPLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztBQUM5QixPQUFPLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztBQUN4QyxPQUFPLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztBQUN4QyxPQUFPLENBQUMsbUJBQW1CLEdBQUcsbUJBQW1CLENBQUM7QUFDbEQsT0FBTyxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO0FBQzlDLE9BQU8sQ0FBQyxvQkFB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ZXIvLmF0b20vcGFja2FnZXMvYnVpbGQtZ3VscC9zcGVjL2ZpeHR1cmUvbm9kZV9tb2R1bGVzX2JhYmVsL2JhYmVsLWdlbmVyYXRvci9saWIvZ2VuZXJhdG9ycy9leHByZXNzaW9ucy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEBmbG93ICovXG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHRcIilbXCJkZWZhdWx0XCJdO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS13aWxkY2FyZFwiKVtcImRlZmF1bHRcIl07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLlVuYXJ5RXhwcmVzc2lvbiA9IFVuYXJ5RXhwcmVzc2lvbjtcbmV4cG9ydHMuRG9FeHByZXNzaW9uID0gRG9FeHByZXNzaW9uO1xuZXhwb3J0cy5QYXJlbnRoZXNpemVkRXhwcmVzc2lvbiA9IFBhcmVudGhlc2l6ZWRFeHByZXNzaW9uO1xuZXhwb3J0cy5VcGRhdGVFeHByZXNzaW9uID0gVXBkYXRlRXhwcmVzc2lvbjtcbmV4cG9ydHMuQ29uZGl0aW9uYWxFeHByZXNzaW9uID0gQ29uZGl0aW9uYWxFeHByZXNzaW9uO1xuZXhwb3J0cy5OZXdFeHByZXNzaW9uID0gTmV3RXhwcmVzc2lvbjtcbmV4cG9ydHMuU2VxdWVuY2VFeHByZXNzaW9uID0gU2VxdWVuY2VFeHByZXNzaW9uO1xuZXhwb3J0cy5UaGlzRXhwcmVzc2lvbiA9IFRoaXNFeHByZXNzaW9uO1xuZXhwb3J0cy5TdXBlciA9IFN1cGVyO1xuZXhwb3J0cy5EZWNvcmF0b3IgPSBEZWNvcmF0b3I7XG5leHBvcnRzLkNhbGxFeHByZXNzaW9uID0gQ2FsbEV4cHJlc3Npb247XG5leHBvcnRzLkVtcHR5U3RhdGVtZW50ID0gRW1wdHlTdGF0ZW1lbnQ7XG5leHBvcnRzLkV4cHJlc3Npb25TdGF0ZW1lbnQgPSBFeHByZXNzaW9uU3RhdGVtZW50O1xuZXhwb3J0cy5Bc3NpZ25tZW50UGF0dGVybiA9IEFzc2lnbm1lbnRQYXR0ZXJuO1xuZXhwb3J0cy5Bc3NpZ25tZW50RXhwcmVzc2lvbiA9IEFzc2lnbm1lbnRFeHByZXNzaW9uO1xuZXhwb3J0cy5CaW5kRXhwcmVzc2lvbiA9IEJpbmRFeHByZXNzaW9uO1xuZXhwb3J0cy5NZW1iZXJFeHByZXNzaW9uID0gTWVtYmVyRXhwcmVzc2lvbjtcbmV4cG9ydHMuTWV0YVByb3BlcnR5ID0gTWV0YVByb3BlcnR5O1xuXG52YXIgX2lzSW50ZWdlciA9IHJlcXVpcmUoXCJpcy1pbnRlZ2VyXCIpO1xuXG52YXIgX2lzSW50ZWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0ludGVnZXIpO1xuXG52YXIgX2xvZGFzaExhbmdJc051bWJlciA9IHJlcXVpcmUoXCJsb2Rhc2gvbGFuZy9pc051bWJlclwiKTtcblxudmFyIF9sb2Rhc2hMYW5nSXNOdW1iZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoTGFuZ0lzTnVtYmVyKTtcblxudmFyIF9iYWJlbFR5cGVzID0gcmVxdWlyZShcImJhYmVsLXR5cGVzXCIpO1xuXG52YXIgdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9iYWJlbFR5cGVzKTtcblxudmFyIF9ub2RlID0gcmVxdWlyZShcIi4uL25vZGVcIik7XG5cbnZhciBfbm9kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2RlKTtcblxudmFyIFNDSUVOVElGSUNfTk9UQVRJT04gPSAvZS9pO1xudmFyIFpFUk9fREVDSU1BTF9JTlRFR0VSID0gL1xcLjArJC87XG5cbmZ1bmN0aW9uIFVuYXJ5RXhwcmVzc2lvbihub2RlIC8qOiBPYmplY3QqLykge1xuICB2YXIgbmVlZHNTcGFjZSA9IC9bYS16XSQvLnRlc3Qobm9kZS5vcGVyYXRvcik7XG4gIHZhciBhcmcgPSBub2RlLmFyZ3VtZW50O1xuXG4gIGlmICh0LmlzVXBkYXRlRXhwcmVzc2lvbihhcmcpIHx8IHQuaXNVbmFyeUV4cHJlc3Npb24oYXJnKSkge1xuICAgIG5lZWRzU3BhY2UgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHQuaXNVbmFyeUV4cHJlc3Npb24oYXJnKSAmJiBhcmcub3BlcmF0b3IgPT09IFwiIVwiKSB7XG4gICAgbmVlZHNTcGFjZSA9IGZhbHNlO1xuICB9XG5cbiAgdGhpcy5wdXNoKG5vZGUub3BlcmF0b3IpO1xuICBpZiAobmVlZHNTcGFjZSkgdGhpcy5wdXNoKFwiIFwiKTtcbiAgdGhpcy5wcmludChub2RlLmFyZ3VtZW50LCBub2RlKTtcbn1cblxuZnVuY3Rpb24gRG9FeHByZXNzaW9uKG5vZGUgLyo6IE9iamVjdCovKSB7XG4gIHRoaXMucHVzaChcImRvXCIpO1xuICB0aGlzLnNwYWNlKCk7XG4gIHRoaXMucHJpbnQobm9kZS5ib2R5LCBub2RlKTtcbn1cblxuZnVuY3Rpb24gUGFyZW50aGVzaXplZEV4cHJlc3Npb24obm9kZSAvKjogT2JqZWN0Ki8pIHtcbiAgdGhpcy5wdXNoKFwiKFwiKTtcbiAgdGhpcy5wcmludChub2RlLmV4cHJlc3Npb24sIG5vZGUpO1xuICB0aGlzLnB1c2goXCIpXCIpO1xufVxuXG5mdW5jdGlvbiBVcGRhdGVFeHByZXNzaW9uKG5vZGUgLyo6IE9iamVjdCovKSB7XG4gIGlmIChub2RlLnByZWZpeCkge1xuICAgIHRoaXMucHVzaChub2RlLm9wZXJhdG9yKTtcbiAgICB0aGlzLnByaW50KG5vZGUuYXJndW1lbnQsIG5vZGUpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMucHJpbnQobm9kZS5hcmd1bWVudCwgbm9kZSk7XG4gICAgdGhpcy5wdXNoKG5vZGUub3BlcmF0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIENvbmRpdGlvbmFsRXhwcmVzc2lvbihub2RlIC8qOiBPYmplY3QqLykge1xuICB0aGlzLnByaW50KG5vZGUudGVzdCwgbm9kZSk7XG4gIHRoaXMuc3BhY2UoKTtcbiAgdGhpcy5wdXNoKFwiP1wiKTtcbiAgdGhpcy5zcGFjZSgpO1xuICB0aGlzLnByaW50KG5vZGUuY29uc2VxdWVudCwgbm9kZSk7XG4gIHRoaXMuc3BhY2UoKTtcbiAgdGhpcy5wdXNoKFwiOlwiKTtcbiAgdGhpcy5zcGFjZSgpO1xuICB0aGlzLnByaW50KG5vZGUuYWx0ZXJuYXRlLCBub2RlKTtcbn1cblxuZnVuY3Rpb24gTmV3RXhwcmVzc2lvbihub2RlIC8qOiBPYmplY3QqLykge1xuICB0aGlzLnB1c2goXCJuZXcgXCIpO1xuICB0aGlzLnByaW50KG5vZGUuY2FsbGVlLCBub2RlKTtcbiAgdGhpcy5wdXNoKFwiKFwiKTtcbiAgdGhpcy5wcmludExpc3Qobm9kZS5hcmd1bWVudHMsIG5vZGUpO1xuICB0aGlzLnB1c2goXCIpXCIpO1xufVxuXG5mdW5jdGlvbiBTZXF1ZW5jZUV4cHJlc3Npb24obm9kZSAvKjogT2JqZWN0Ki8pIHtcbiAgdGhpcy5wcmludExpc3Qobm9kZS5leHByZXNzaW9ucywgbm9kZSk7XG59XG5cbmZ1bmN0aW9uIFRoaXNFeHByZXNzaW9uKCkge1xuICB0aGlzLnB1c2goXCJ0aGlzXCIpO1xufVxuXG5mdW5jdGlvbiBTdXBlcigpIHtcbiAgdGhpcy5wdXNoKFwic3VwZXJcIik7XG59XG5cbmZ1bmN0aW9uIERlY29yYXRvcihub2RlIC8qOiBPYmplY3QqLykge1xuICB0aGlzLnB1c2goXCJAXCIpO1xuICB0aGlzLnByaW50KG5vZGUuZXhwcmVzc2lvbiwgbm9kZSk7XG4gIHRoaXMubmV3bGluZSgpO1xufVxuXG5mdW5jdGlvbiBDYWxsRXhwcmVzc2lvbihub2RlIC8qOiBPYmplY3QqLykge1xuICB0aGlzLnByaW50KG5vZGUuY2FsbGVlLCBub2RlKTtcblxuICB0aGlzLnB1c2goXCIoXCIpO1xuXG4gIHZhciBpc1ByZXR0eUNhbGwgPSBub2RlLl9wcmV0dHlDYWxsICYmICF0aGlzLmZvcm1hdC5yZXRhaW5MaW5lcyAmJiAhdGhpcy5mb3JtYXQuY29tcGFjdDtcblxuICB2YXIgc2VwYXJhdG9yID0gdW5kZWZpbmVkO1xuICBpZiAoaXNQcmV0dHlDYWxsKSB7XG4gICAgc2VwYXJhdG9yID0gXCIsXFxuXCI7XG4gICAgdGhpcy5uZXdsaW5lKCk7XG4gICAgdGhpcy5pbmRlbnQoKTtcbiAgfVxuXG4gIHRoaXMucHJpbnRMaXN0KG5vZGUuYXJndW1lbnRzLCBub2RlLCB7IHNlcGFyYXRvcjogc2VwYXJhdG9yIH0pO1xuXG4gIGlmIChpc1ByZXR0eUNhbGwpIHtcbiAgICB0aGlzLm5ld2xpbmUoKTtcbiAgICB0aGlzLmRlZGVudCgpO1xuICB9XG5cbiAgdGhpcy5wdXNoKFwiKVwiKTtcbn1cblxuZnVuY3Rpb24gYnVpbGRZaWVsZEF3YWl0KGtleXdvcmQgLyo6IHN0cmluZyovKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobm9kZSAvKjogT2JqZWN0Ki8pIHtcbiAgICB0aGlzLnB1c2goa2V5d29yZCk7XG5cbiAgICBpZiAobm9kZS5kZWxlZ2F0ZSB8fCBub2RlLmFsbCkge1xuICAgICAgdGhpcy5wdXNoKFwiKlwiKTtcbiAgICB9XG5cbiAgICBpZiAobm9kZS5hcmd1bWVudCkge1xuICAgICAgdGhpcy5wdXNoKFwiIFwiKTtcbiAgICAgIHZhciB0ZXJtaW5hdG9yU3RhdGUgPSB0aGlzLnN0YXJ0VGVybWluYXRvcmxlc3MoKTtcbiAgICAgIHRoaXMucHJpbnQobm9kZS5hcmd1bWVudCwgbm9kZSk7XG4gICAgICB0aGlzLmVuZFRlcm1pbmF0b3JsZXNzKHRlcm1pbmF0b3JTdGF0ZSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgWWllbGRFeHByZXNzaW9uID0gYnVpbGRZaWVsZEF3YWl0KFwieWllbGRcIik7XG5leHBvcnRzLllpZWxkRXhwcmVzc2lvbiA9IFlpZWxkRXhwcmVzc2lvbjtcbnZhciBBd2FpdEV4cHJlc3Npb24gPSBidWlsZFlpZWxkQXdhaXQoXCJhd2FpdFwiKTtcblxuZXhwb3J0cy5Bd2FpdEV4cHJlc3Npb24gPSBBd2FpdEV4cHJlc3Npb247XG5cbmZ1bmN0aW9uIEVtcHR5U3RhdGVtZW50KCkge1xuICB0aGlzLnNlbWljb2xvbigpO1xufVxuXG5mdW5jdGlvbiBFeHByZXNzaW9uU3RhdGVtZW50KG5vZGUgLyo6IE9iamVjdCovKSB7XG4gIHRoaXMucHJpbnQobm9kZS5leHByZXNzaW9uLCBub2RlKTtcbiAgdGhpcy5zZW1pY29sb24oKTtcbn1cblxuZnVuY3Rpb24gQXNzaWdubWVudFBhdHRlcm4obm9kZSAvKjogT2JqZWN0Ki8pIHtcbiAgdGhpcy5wcmludChub2RlLmxlZnQsIG5vZGUpO1xuICB0aGlzLnB1c2goXCIgPSBcIik7XG4gIHRoaXMucHJpbnQobm9kZS5yaWdodCwgbm9kZSk7XG59XG5cbmZ1bmN0aW9uIEFzc2lnbm1lbnRFeHByZXNzaW9uKG5vZGUgLyo6IE9iamVjdCovLCBwYXJlbnQgLyo6IE9iamVjdCovKSB7XG4gIC8vIFNvbWV3aGVyZSBpbnNpZGUgYSBmb3Igc3RhdGVtZW50IGBpbml0YCBub2RlIGJ1dCBkb2Vzbid0IHVzdWFsbHlcbiAgLy8gbmVlZHMgYSBwYXJlbiBleGNlcHQgZm9yIGBpbmAgZXhwcmVzc2lvbnM6IGBmb3IgKGEgaW4gYiA/IGEgOiBiOzspYFxuICB2YXIgcGFyZW5zID0gdGhpcy5faW5Gb3JTdGF0ZW1lbnRJbml0ICYmIG5vZGUub3BlcmF0b3IgPT09IFwiaW5cIiAmJiAhX25vZGUyW1wiZGVmYXVsdFwiXS5uZWVkc1BhcmVucyhub2RlLCBwYXJlbnQpO1xuXG4gIGlmIChwYXJlbnMpIHtcbiAgICB0aGlzLnB1c2goXCIoXCIpO1xuICB9XG5cbiAgdGhpcy5wcmludChub2RlLmxlZnQsIG5vZGUpO1xuXG4gIHZhciBzcGFjZXMgPSAhdGhpcy5mb3JtYXQuY29tcGFjdCB8fCBub2RlLm9wZXJhdG9yID09PSBcImluXCIgfHwgbm9kZS5vcGVyYXRvciA9PT0gXCJpbnN0YW5jZW9mXCI7XG4gIHNwYWNlcyA9IHRydWU7IC8vIHRvZG86IGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC9pc3N1ZXMvMTgzNVxuICBpZiAoc3BhY2VzKSB0aGlzLnB1c2goXCIgXCIpO1xuXG4gIHRoaXMucHVzaChub2RlLm9wZXJhdG9yKTtcblxuICBpZiAoIXNwYWNlcykge1xuICAgIC8vIHNwYWNlIGlzIG1hbmRhdG9yeSB0byBhdm9pZCBvdXRwdXR0aW5nIDwhLS1cbiAgICAvLyBodHRwOi8vamF2YXNjcmlwdC5zcGVjLndoYXR3Zy5vcmcvI2NvbW1lbnQtc3ludGF4XG4gICAgc3BhY2VzID0gbm9kZS5vcGVyYXRvciA9PT0gXCI8XCIgJiYgdC5pc1VuYXJ5RXhwcmVzc2lvbihub2RlLnJpZ2h0LCB7IHByZWZpeDogdHJ1ZSwgb3BlcmF0b3I6IFwiIVwiIH0pICYmIHQuaXNVbmFyeUV4cHJlc3Npb24obm9kZS5yaWdodC5hcmd1bWVudCwgeyBwcmVmaXg6IHRydWUsIG9wZXJhdG9yOiBcIi0tXCIgfSk7XG4gIH1cblxuICBpZiAoc3BhY2VzKSB0aGlzLnB1c2goXCIgXCIpO1xuXG4gIHRoaXMucHJpbnQobm9kZS5yaWdodCwgbm9kZSk7XG5cbiAgaWYgKHBhcmVucykge1xuICAgIHRoaXMucHVzaChcIilcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gQmluZEV4cHJlc3Npb24obm9kZSAvKjogT2JqZWN0Ki8pIHtcbiAgdGhpcy5wcmludChub2RlLm9iamVjdCwgbm9kZSk7XG4gIHRoaXMucHVzaChcIjo6XCIpO1xuICB0aGlzLnByaW50KG5vZGUuY2FsbGVlLCBub2RlKTtcbn1cblxuZXhwb3J0cy5CaW5hcnlFeHByZXNzaW9uID0gQXNzaWdubWVudEV4cHJlc3Npb247XG5leHBvcnRzLkxvZ2ljYWxFeHByZXNzaW9uID0gQXNzaWdubWVudEV4cHJlc3Npb247XG5cbmZ1bmN0aW9uIE1lbWJlckV4cHJlc3Npb24obm9kZSAvKjogT2JqZWN0Ki8pIHtcbiAgdGhpcy5wcmludChub2RlLm9iamVjdCwgbm9kZSk7XG5cbiAgaWYgKCFub2RlLmNvbXB1dGVkICYmIHQuaXNNZW1iZXJFeHByZXNzaW9uKG5vZGUucHJvcGVydHkpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdvdCBhIE1lbWJlckV4cHJlc3Npb24gZm9yIE1lbWJlckV4cHJlc3Npb24gcHJvcGVydHlcIik7XG4gIH1cblxuICB2YXIgY29tcHV0ZWQgPSBub2RlLmNvbXB1dGVkO1xuICBpZiAodC5pc0xpdGVyYWwobm9kZS5wcm9wZXJ0eSkgJiYgX2xvZGFzaExhbmdJc051bWJlcjJbXCJkZWZhdWx0XCJdKG5vZGUucHJvcGVydHkudmFsdWUpKSB7XG4gICAgY29tcHV0ZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKGNvbXB1dGVkKSB7XG4gICAgdGhpcy5wdXNoKFwiW1wiKTtcbiAgICB0aGlzLnByaW50KG5vZGUucHJvcGVydHksIG5vZGUpO1xuICAgIHRoaXMucHVzaChcIl1cIik7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHQuaXNMaXRlcmFsKG5vZGUub2JqZWN0KSAmJiAhdC5pc1RlbXBsYXRlTGl0ZXJhbChub2RlLm9iamVjdCkpIHtcbiAgICAgIHZhciB2YWwgPSB0aGlzLmdldFBvc3NpYmxlUmF3KG5vZGUub2JqZWN0KSB8fCB0aGlzLl9zdHJpbmdMaXRlcmFsKG5vZGUub2JqZWN0KTtcbiAgICAgIGlmIChfaXNJbnRlZ2VyMltcImRlZmF1bHRcIl0oK3ZhbCkgJiYgIVNDSUVOVElGSUNfTk9UQVRJT04udGVzdCh2YWwpICYmICFaRVJPX0RFQ0lNQUxfSU5URUdFUi50ZXN0KHZhbCkgJiYgIXRoaXMuZW5kc1dpdGgoXCIuXCIpKSB7XG4gICAgICAgIHRoaXMucHVzaChcIi5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wdXNoKFwiLlwiKTtcbiAgICB0aGlzLnByaW50KG5vZGUucHJvcGVydHksIG5vZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIE1ldGFQcm9wZXJ0eShub2RlIC8qOiBPYmplY3QqLykge1xuICB0aGlzLnByaW50KG5vZGUubWV0YSwgbm9kZSk7XG4gIHRoaXMucHVzaChcIi5cIik7XG4gIHRoaXMucHJpbnQobm9kZS5wcm9wZXJ0eSwgbm9kZSk7XG59Il19
//# sourceURL=/Users/naver/.atom/packages/build-gulp/spec/fixture/node_modules_babel/babel-generator/lib/generators/expressions.js
